@model Ichari.Model.Prize

@{
    ViewBag.Title = "新增奖品";
}

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

@using (Html.BeginForm()) {
    @Html.HiddenFor(m => m.Id)
    @Html.ValidationSummary(true)
    <div>奖品新增</div>
    <fieldset>
        <div class="editor-label">
            @Html.LabelFor(m => m.CategoryId)
        </div>
        <div class="editor-field">
            @Html.DropDownListFor(m => m.CategoryId, (IList<SelectListItem>)ViewData["CatList"])
            @Html.ValidationMessageFor(m => m.CategoryId)
        </div>

        <div class="editor-label">
            @Html.LabelFor(m => m.Name)
        </div>
        <div class="editor-field">
            @Html.EditorFor(m => m.Name)
            @Html.ValidationMessageFor(m => m.Name)
        </div>

        <div class="editor-label">
            @Html.LabelFor(m => m.ImgUrl)
        </div>
        <div class="editor-field">
            @Html.EditorFor(m => m.ImgUrl)
            @Html.ValidationMessageFor(m => m.ImgUrl)
        </div>

        <div class="editor-label">
            @Html.LabelFor(m => m.Probability)
        </div>
        <div class="editor-field">
            @Html.EditorFor(m => m.Probability)
            @Html.ValidationMessageFor(m => m.Probability)
        </div>

        <div class="editor-label">
            @Html.LabelFor(m => m.Angle)
        </div>
        <div class="editor-field">
            @Html.EditorFor(m => m.Angle)
            @Html.ValidationMessageFor(m => m.Angle)
        </div>
        

        <div class="editor-label">
            数量
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(m => m.PrizeCount)
            @Html.ValidationMessageFor(m => m.PrizeCount)
        </div>

        <div class="editor-label">
            是否卡卷类奖品
        </div>
        <div class="editor-field">
            @Html.CheckBoxFor(m => m.IsVirtual)
            @Html.ValidationMessageFor(m => m.IsVirtual)
        </div>

        <div @if(Model==null){<text>style="display:none;"</text>}else if(!Model.IsVirtual){<text>style="display:none;"</text>} id="divCardType">
        <div class="editor-label">
            请选择卡卷种类
        </div>
        <div class="editor-field">
            <select name="FreeCardType" id="FreeCardType">
                <option value="1">银联商城打折卡</option>
            </select>
        </div>
        </div>

        <div class="editor-label">
           是否启用
        </div>
        <div class="editor-field">
            @Html.CheckBoxFor(m => m.IsEnabled)
            @Html.ValidationMessageFor(m => m.IsEnabled)
        </div>

        <p>
            <input type="submit" value="新增" />
        </p>
    </fieldset>
}

<script type="text/javascript">
<!--
    $(document).ready(function () {
        $("#IsVirtual").click(function () {
            if ($(this).attr("checked")) {
                $("#divCardType").show();
                $("#FreeCardType").attr("disabled", false);
            }
            else {
                $("#divCardType").hide();
                $("#FreeCardType").attr("disabled", true);
            }
        });
    });
-->
</script>

